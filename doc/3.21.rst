What's new in CubicWeb 3.21?
============================

New features
------------

* the datadir-url configuration option lets one choose where static data files
  are served (instead of the default ${base-url}/data/)

Code movement
-------------

The cubicweb.web.views.timeline module (providing the timeline-json, timeline
and static-timeline views) has moved to a standalone cube_

.. _cube: https://www.cubicweb.org/project/cubicweb-timeline

API changes
-----------

* req.set_cookie's "expires" argument, if not None, is expected to be a
  date or a datetime in UTC.  It was previously interpreted as localtime
  with the UTC offset the server started in, which was inconsistent (we
  are not aware of any users of that API).

Deprecated code drops
---------------------

* the user_callback api has been removed; people should use plain
  ajax functions instead

* the `Pyro` and `Zmq-pickle` remote repository access methods have
  been entirely removed (emerging alternatives such as rqlcontroller
  and cwclientlib should be used instead).  Note that as a side effect,
  "repository-only" instances (i.e. without a http component) are no
  longer possible.  If you have any such instances, you will need to
  rename the configuration file from repository.conf to all-in-one.conf
  and run ``cubicweb-ctl upgrade`` to update it.

